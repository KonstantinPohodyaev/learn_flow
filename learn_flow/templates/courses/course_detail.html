{% extends "base.html" %}
{% load django_bootstrap5 %}

{% block title %}
  –ö—É—Ä—Å: {{ course.title }}
{% endblock %}

{% block content %}
  <div class="container my-5">
    <div class="card bg-dark text-light rounded-4 shadow-lg p-4">
      <div class="card-header fs-3 text-center text-white border-bottom">
        üéì {{ course.title }}
      </div>
      <div class="card-body">
        <p class="fs-5 text-center mb-4">
          <span class="text-secondary">–û–ø–∏—Å–∞–Ω–∏–µ:</span>
          <span class="text-info">{{ course.description }}</span>
        </p>
        <div class="card bg-black text-light rounded-4 shadow-sm mx-auto">
          <div class="card-header text-center fs-4 text-white">
            üì¶ –ú–æ–¥—É–ª–∏ –∫—É—Ä—Å–∞
          </div>
          <div class="card-body">
            <div class="row g-4">
              {% for module in modules %}
                <div class="col-sm-6 col-lg-4">
                  <div class="card text-light bg-secondary h-100 border-0 shadow rounded-3 hover-shadow">
                    <div class="card-body d-flex flex-column">
                      <h5 class="card-title text-info fw-bold">
                        üß© {{ module.title }}
                      </h5>
                      <p class="text-secondary mb-4">
                        –í—Ö–æ–¥–∏—Ç –≤ –∫—É—Ä—Å <strong>{{ course.title }}</strong>
                      </p>
                      <a href="{% url 'courses:module_detail' course.pk module.pk %}"
                        class="btn btn-outline-info mt-auto rounded-pill">
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –º–æ–¥—É–ª–µ ‚Üí
                      </a>
                    </div>
                  </div>
                </div>
              {% empty %}
                <p class="text-info text-center">–ú–æ–¥—É–ª–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
              {% endfor %}
            </div>
            <ul class="nav justify-content-center mt-4 p-3 rounded shadow-sm">
              <li class="nav-item mx-2">
                <a href="{% url 'courses:course_list' %}"
                  class="btn btn-outline-warning rounded-pill px-4 w-100">
                  ‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å–∞–º
                </a>
              </li>
              {% if user.is_superuser %}
                  <li class="nav-item mx-2">
                    <a href="{% url 'courses:module_create' course.pk %}"
                      class="btn btn-outline-success rounded-pill px-4 w-100">
                      ‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å
                    </a>
                  </li>
                  <li class="nav-item mx-2">
                    <a href="{% url 'courses:course_update' course.pk %}"
                      class="btn btn-outline-primary rounded-pill px-4 w-100">
                      ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å
                    </a>
                  </li>
                  <li class="nav-item mx-2">
                    <a href="{% url 'courses:course_delete' course.pk %}"
                      class="btn btn-outline-danger rounded-pill px-4 w-100">
                      üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å
                    </a>
                  </li>
              {% endif %}
            </ul>
          </div>
        </div>
      </div>
      <div class="card-footer m-3 ">
        {% if certificate %}
          <a href="{{ certificate.file.url }}" class="btn btn-outline-success m-3">
            üìÑ –°–∫–∞—á–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
          </a>
          <a href="{% url 'courses:send_certificate' user.id course.id %}" class="btn btn-outline-success m-3">
            üìÑ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—á—Ç—É
          </a>
        {% else %}
          <div class="text-info">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ —ç—Ç–æ–≥–æ –∫—É—Ä—Å–∞!</div>
        {% endif %}
      </div>
    </div>
  </div>
  <style>
    .hover-shadow:hover {
      transform: translateY(-5px);
      transition: 0.3s ease;
      box-shadow: 0 0.75rem 1.5rem rgba(0, 0, 0, 0.2) !important;
    }
  </style>
{% endblock %}
