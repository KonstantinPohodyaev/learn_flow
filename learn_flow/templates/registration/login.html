{% extends "base.html" %}
{% load django_bootstrap5 %}

{% block content %}
  <div class="d-flex justify-content-center align-items-center min-vh-100">
    <div class="card login-card shadow-lg border-0">
      <div class="card-header text-center gradient-text fw-bold fs-4">
        üîê –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
      </div>
      <div class="card-body p-4">
        
        {% if next %}
          {% if user.is_authenticated %}
            <div class="alert alert-warning">
              –£ –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
              –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –¥—Ä—É–≥–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º.
            </div>
          {% else %}
            <div class="alert alert-info">
              –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É.
            </div>
          {% endif %}
        {% endif %}

        <form method="post" action="{% url 'login' %}">
          {% csrf_token %}
          {% bootstrap_form form %}
          <input type="hidden" name="next" value="{{ next }}">

          <button type="submit" class="btn w-100 custom-btn-outline mt-3">
            üöÄ –í–æ–π—Ç–∏
          </button>
        </form>

        <div class="text-center mt-3">
          <a href="{% url 'password_reset' %}" class="custom-link small">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
        </div>
      </div>
    </div>
  </div>

  <style>
    /* –ö–∞—Ä—Ç–æ—á–∫–∞ */
    .login-card {
      width: 100%;
      max-width: 400px;
      border-radius: 15px;
      overflow: hidden;
    }

    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
    .gradient-text {
      background: linear-gradient(45deg, #0ea5e9, #22d3ee);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% 200%;
      transition: background-position 0.5s ease;
    }
    .gradient-text:hover {
      background-position: 100% 0;
    }

    /* –ö–Ω–æ–ø–∫–∞ */
    .custom-btn-outline {
      border: 2px solid #0ea5e9;
      color: #0ea5e9;
      font-weight: 600;
      transition: all 0.3s ease;
      border-radius: 25px;
    }
    .custom-btn-outline:hover {
      background: linear-gradient(90deg, #0ea5e9, #22d3ee);
      color: #0f172a;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(14,165,233,0.3);
    }

    /* –°—Å—ã–ª–∫–∞ */
    .custom-link {
      color: #a0aec0;
      position: relative;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    .custom-link::after {
      content: '';
      display: block;
      height: 2px;
      width: 0;
      background: #0ea5e9;
      transition: width 0.3s ease;
      position: absolute;
      bottom: -2px;
      left: 0;
      border-radius: 2px;
    }
    .custom-link:hover {
      color: #22d3ee;
    }
    .custom-link:hover::after {
      width: 100%;
    }
  </style>
{% endblock %}
